# PHP_추가한 소스코드

생성일: 2021년 8월 21일 오후 5:59

```php
<?php
include (dirname(__FILE__)."/validationStudent.php");
$valid_null = valid_student($db,"name","201610302","password123asdasdasdasdas","dbals9@nadfafjialsjdlasjdlasjldjaslk");
?>

<?php

$db =  mysqli_connect('localhost', 'root', 'test1234', 'test01');

function valid_student($connection,$name , $code,$password,$email){
            if ($connection -> connect_errno) {
                            echo  '{"Operation":"database connection error"}';
                                    return;
                                }
                $query = "select * from student where name ='".$name."' and student_code =  '".$code."'";
                $result = mysqli_query($connection, $query);
                    if(mysqli_num_rows($result)){
                                    $row = mysqli_fetch_array($result);
                                            $query = "update student SET password= '".$password."', email = '".$email."' WHERE student_id = '".$row[0]."' ";
                                            $insertResult = mysqli_query($connection, $query);
                                                    if($insertResult == false){
                                                                            echo '{"Operation":"insert format error"}';
                                                                                            return;
                                                                                    }
                                                }else{
                                                                echo '{"Operation":"Not found student"}';
                                                                        return;
                                                                    }
}

$valid_null = valid_student($db,"name","201610302","password123","asdasd");
echo "Hello";

?>
```